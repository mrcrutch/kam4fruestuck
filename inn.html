<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Innsbruck Live Cam</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            background-image: linear-gradient(135deg, #f5f7fa 0%, #e4e9f2 100%);
        }
        .header {
            text-align: center;
            margin-bottom: 20px;
            width: 100%;
            max-width: 1200px;
        }
        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
        }
        .logo {
            width: 200px;
            height: auto;
        }
        .title {
            color: #1B3B6F;
            font-size: 24px;
            margin: 0;
        }
        .subtitle {
            color: #4A6FA5;
            font-size: 16px;
            margin: 5px 0;
        }
        .mountain-decoration {
            width: 100%;
            height: 60px;
            margin-bottom: -20px;
        }
        .container {
            max-width: 1200px;
            width: 100%;
            position: relative;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        video {
            width: 100%;
            height: auto;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        .info {
            text-align: center;
            color: #666;
            padding: 10px 20px;
            border-radius: 5px;
            background: #f8f9fa;
            display: flex;
            align-items: center;
            gap: 15px;
            justify-content: center;
            border: 1px solid #e9ecef;
        }
        #countdown {
            font-weight: bold;
            color: #333;
        }
        .button {
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        #refresh-button {
            background: #4CAF50;
            color: white;
        }
        #refresh-button:hover {
            background: #45a049;
            transform: translateY(-1px);
        }
        #fullscreen-button {
            background: #2196F3;
            color: white;
        }
        #fullscreen-button:hover {
            background: #1976D2;
            transform: translateY(-1px);
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo-container">
            <svg class="logo" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 width="308.605px" height="149.08px" viewBox="0 0 308.605 149.08" enable-background="new 0 0 308.605 149.08"
                 xml:space="preserve">
                <path fill="#ED1C24" d="M0,147.81h30.724c16.047,0,24.177-9.607,24.177-20.48c0-6.652-3.167-12.775-9.291-16.471
                    c4.434-3.484,6.757-8.129,6.757-13.094c0-8.973-7.496-16.258-23.333-16.258H0V147.81L0,147.81z M21.01,107.269V95.867h4.646
                    c3.907,0,5.702,2.109,5.702,5.066c0,2.746-1.478,5.281-4.224,6.336H21.01L21.01,107.269z M21.01,133.453v-12.881h5.597
                    c4.856,0,7.179,2.324,7.179,6.123c0,4.012-2.533,6.758-7.179,6.758H21.01L21.01,133.453z M63.558,147.81h21.011v-23.861h1.901
                    c3.378,0,4.223,2.641,5.911,7.604l5.597,16.258h20.905v-1.688l-7.18-18.16c-1.899-4.539-3.695-7.391-6.229-8.658
                    c7.18-3.801,11.085-10.348,11.085-17.631c0-11.615-8.234-20.166-24.599-20.166H63.558V147.81L63.558,147.81z M84.569,109.591V96.289
                    h3.484c4.857,0,7.179,2.641,7.179,6.334c0,4.225-2.428,6.969-7.179,6.969H84.569L84.569,109.591z M126.061,124.478
                    c0,18.688,11.614,24.602,27.662,24.602c16.049,0,27.978-6.02,27.978-24.602V81.507h-21.116v41.916c0,5.912-1.9,8.762-6.862,8.762
                    c-4.223,0-6.652-2.744-6.652-8.762V81.507h-21.01V124.478L126.061,124.478z M190.464,114.871c0,24.916,13.513,34.209,31.779,34.209
                    c6.441,0,12.776-1.27,19.321-4.225l-3.589-14.148h-2.112c-4.013,1.689-6.756,2.535-10.452,2.535
                    c-7.918,0-13.408-5.596-13.408-18.793c0-12.459,6.545-18.16,14.042-18.16c2.745,0,5.491,0.211,8.764,1.266h2.11l3.589-14.357
                    c-5.7-2.111-11.297-2.955-16.892-2.955C205.983,80.242,190.464,90.587,190.464,114.871L190.464,114.871z M271.969,113.814
                    l15.31,33.996h21.327v-2.111l-15.31-32.73l14.678-29.35v-2.111H287.49L271.969,113.814L271.969,113.814z M250.114,147.81h21.011
                    V81.507h-21.011V147.81L250.114,147.81z"/>
                <path fill="#ED1C24" d="M0,68.627h21.01V2.322H0V68.627L0,68.627z M33.257,68.627h20.798V43.182l1.479,2.429l15.415,23.017h18.055
                    V2.322H68.31v25.656l-1.478-2.429L51.312,2.322H33.257V68.627L33.257,68.627z M102.412,68.627h20.799V43.182l1.479,2.429
                    l15.415,23.017h18.053V2.322h-20.693v25.656l-1.479-2.429L120.466,2.322h-18.054V68.627L102.412,68.627z M166.711,64.404
                    c5.594,3.272,13.619,5.49,22.276,5.49c17.421,0,28.19-8.025,28.19-23.017c0-24.494-28.19-18.582-28.19-26.817
                    c0-2.534,2.322-4.012,6.969-4.012c3.694,0,7.813,0.95,11.402,2.745h2.111l5.807-12.669c-5.279-3.168-13.303-5.068-20.798-5.068
                    c-15.203,0-26.079,7.813-26.079,21.328c0,25.443,28.402,18.688,28.402,27.45c0,3.379-3.273,5.068-7.813,5.068
                    c-4.645,0-10.03-1.162-14.465-3.59h-2.11L166.711,64.404L166.711,64.404z M222.666,27.24h2.113l8.023-1.268l7.601-23.861V0
                    l-13.937,2.322l-3.801,22.805V27.24L222.666,27.24z"/>
            </svg>
            <div>
                <h1 class="title">Innsbruck Live</h1>
                <p class="subtitle">Stadtblick</p>
            </div>
        </div>
        <!-- Morning Message with Coffee Cup -->
        <div style="text-align: center; margin: 10px 0; font-family: Arial; color: #666; display: flex; align-items: center; justify-content: center; gap: 15px;">
            <!-- Breakfast Icons -->
            <svg class="breakfast-icons" viewBox="0 0 200 50" style="width: 120px; height: 50px; order: -1;">
                <!-- Coffee Cup - Bigger size -->
                <path d="M15,40 L45,40 C52,40 55,32 55,25 C55,18 52,10 45,10 L15,10 L15,40" fill="none" stroke="#8B4513" stroke-width="3"/>
                <path d="M55,25 L62,25 C66,25 66,18 62,18 L55,18" fill="none" stroke="#8B4513" stroke-width="3"/>
                <path d="M22,5 C22,5 30,5 30,8" fill="none" stroke="#8B4513" stroke-width="2"/>
                <path d="M32,5 C32,5 40,5 40,8" fill="none" stroke="#8B4513" stroke-width="2"/>
                
                <!-- Steam - Bigger and more pronounced -->
                <path d="M25,5 Q30,-2 35,5" fill="none" stroke="#8B4513" stroke-width="2" opacity="0.5">
                    <animate attributeName="opacity" values="0.5;0;0.5" dur="2s" repeatCount="indefinite" />
                </path>
                <path d="M32,3 Q37,-4 42,3" fill="none" stroke="#8B4513" stroke-width="2" opacity="0.5">
                    <animate attributeName="opacity" values="0.5;0;0.5" dur="2.5s" repeatCount="indefinite" />
                </path>
            </svg>
            <p style="font-size: 16px; margin: 5px 0;">Beim Frühstück? Einen schönen Tag!</p>
        </div>
        <!-- Mountain Decoration -->
        <svg class="mountain-decoration" viewBox="0 0 1200 100" preserveAspectRatio="none">
            <path d="M0,100 L300,30 L600,70 L900,20 L1200,100" fill="none" stroke="#1B3B6F" stroke-width="2"/>
            <path d="M0,100 L400,40 L800,80 L1200,100" fill="none" stroke="#4A6FA5" stroke-width="2"/>
            <path d="M0,100 L600,50 L1200,100" fill="none" stroke="#E4002B" stroke-width="2"/>
        </svg>
    </div>

    <div class="container">
        <video id="videoPlayer" controls autoplay playsinline muted loop>
            <source src="https://video.panomax.com/cams/335/videos/335_fullHD.mp4" type="video/mp4">
            Ihr Browser unterstützt das Video-Element nicht.
        </video>
        <div class="info">
            <p>Nächste Aktualisierung in: <span id="countdown">10:00</span></p>
            <button id="refresh-button" class="button" onclick="manualRefresh()">↻ Jetzt aktualisieren</button>
            <button id="fullscreen-button" class="button" onclick="toggleFullscreen()">⛶ Vollbild</button>
        </div>
    </div>

    <script>
        const videoPlayer = document.getElementById('videoPlayer');
        const refreshButton = document.getElementById('refresh-button');
        const fullscreenButton = document.getElementById('fullscreen-button');

        // Ensure autoplay works
        videoPlayer.play().catch(function(error) {
            console.log("Autoplay prevented:", error);
        });

        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                if (videoPlayer.requestFullscreen) {
                    videoPlayer.requestFullscreen();
                } else if (videoPlayer.webkitRequestFullscreen) {
                    videoPlayer.webkitRequestFullscreen();
                } else if (videoPlayer.msRequestFullscreen) {
                    videoPlayer.msRequestFullscreen();
                }
                fullscreenButton.textContent = '⛶ Vollbild beenden';
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.webkitExitFullscreen) {
                    document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) {
                    document.msExitFullscreen();
                }
                fullscreenButton.textContent = '⛶ Vollbild';
            }
        }

        // Update fullscreen button text when exiting fullscreen via Esc key
        document.addEventListener('fullscreenchange', function() {
            if (!document.fullscreenElement) {
                fullscreenButton.textContent = '⛶ Vollbild';
            }
        });

        function updateVideo() {
            const video = document.getElementById('videoPlayer');
            const currentSrc = video.currentSrc || video.src;
            const newSrc = currentSrc.split('?')[0] + '?t=' + new Date().getTime();
            video.src = newSrc;
            video.load();
            video.play();
        }

        function manualRefresh() {
            updateVideo();
            // Briefly change button text to show feedback
            refreshButton.textContent = '✓ Aktualisiert';
            refreshButton.style.background = '#45a049';
            setTimeout(() => {
                refreshButton.textContent = '↻ Jetzt aktualisieren';
                refreshButton.style.background = '#4CAF50';
            }, 1000);
        }

        function updateCountdown(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            const display = `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
            document.getElementById('countdown').textContent = display;
        }

        function checkAndRefresh() {
            const now = new Date();
            const minutes = now.getMinutes();
            const seconds = now.getSeconds();
            
            let nextRefreshMinute = Math.floor(minutes / 10) * 10 + 1;
            if (minutes % 10 >= 1) {
                nextRefreshMinute += 10;
            }
            
            let secondsUntilRefresh = (nextRefreshMinute - minutes) * 60 - seconds;
            
            if (minutes % 10 === 1 && seconds === 0) {
                updateVideo();
                secondsUntilRefresh = 600;
            }
            
            updateCountdown(secondsUntilRefresh);
        }

        // Initial check
        checkAndRefresh();

        // Update countdown every second
        setInterval(checkAndRefresh, 1000);
    </script>
</body>
</html>